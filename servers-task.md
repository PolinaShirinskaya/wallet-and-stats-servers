Задача: написать два веб сервера на Golang - `wallet`, `stats` c `REST API` интерфейсом взаимодействия. 

- `wallet`: сервис отвечающий за взаимодействие с кошельками - создание новых, операции со средствами на кошельке
- `stats`: сервис сбора статистики по кошелькам. Собирает статистику по действиям с самими кошельками (таким как создание), так и по самим операциям (например пополнение счета).

---

Общие требования:
- Сервисы должны быть написаны на Golang и развертываться независимо.
- Сервисы должны иметь `REST API` интерфейс. Формат - `application/json`.
- Функционал сервисов должен быть покрыт `unit тестами` минимум на `70%`.
- `wallet`
    - Публикует события после ряда операций.
- `stats`
    - Потребляет опубликованные события сервисом `wallet`.
- В качества брокера очередей необходимо использовать Kafka
- Допускается хранение кошельков и статистики по ним в оперативной памяти в виде переменных.
- Логирование запроса/ответа методов и времени обработки запроса.

---

# wallet.

## Общие операции с кошельком.

---

#### POST /wallet - создание кошелька.
При успешном создании кошелька публикуется событие типа `Wallet_Created`.

Входные параметры: 
- `name` (string) - имя владельца кошелька, передается в теле запроса.

Выходные параметры:

```json
{
    "id":"идентификатор кошелька - случайная строка длиной в 8 символов",
    "name":"имя владельца кошелька",
    "status":"статус кошелька, при создании = active"
}
```
---

#### GET /wallets/{id} - получение кошелька по его идентификатору.
Входные параметры: 
- `id` - идентификатор кошелька, передается в path params.

Выходные параметры:

```json
{
    "id":"идентификатор кошелька",
    "name":"имя владельца кошелька",
    "balance":"текущий баланс кошелька - float",
    "status":"статус кошелька - active/inactive"
}
```

---

#### GET /wallets - получение списка всех доступных кошельков (в т.ч. деактивированных).
Входные параметры: 
- `id` - идентификатор кошелька, передается в path params.

Выходные параметры (массив):

```json
[{
    "id":"идентификатор кошелька",
    "name":"имя владельца кошелька",
    "balance":"текущий баланс кошелька - float",
    "status":"статус кошелька - active/inactive"
}]
```

---


#### PUT /wallets/{id} - обновление кошелька по его идентификатору.

Обновить возможно только `name` владельца. Необходимо валидировать переданное новое имя владельца, **оно должно содержать больше одного символа**.

Входные параметры:
- `id` (string) - передается в path params.
- `name` (string) - новое имя владельца кошелька, передается в теле запроса.

Выходные параметры:

```json
{
    "success":"успешность операции - bool",
    "err_code":"описание ошибки при неуспешной операции",
    "id":"идентификатор кошелька",
}
```

---

### DELETE /wallet/{id} - деактивация кошелька по идентификатору в path params. 
При деактивации кошелька в ответе методов, где необходимо использование кошелька должны отдавать `"err_code":"wallet not found"`

При успешной деактивации кошелька публикуется событие типа `Wallet_Deleted`.

Входные параметры: 
- `id` (string) - передается в path params.

Выходные параметры:

```json
{
    "success":"успешность операции - bool",
    "err_code":"описание ошибки при неуспешной операции",
    "id":"идентификатор кошелька",
}
```

---

##	Финансовые операции

#### POST /wallets/{id}/deposit - метод пополнения кошелька.
По результату выполнения баланс кошелька должен быть увеличен на сумму из запроса.

При успешном пополнении кошелька публикуется событие типа `Wallet_Deposited` с суммой пополнения.

Входные параметры: 
- `id` (string) - идентификатор кошелька для проведения операции, передается в path params.
- `amount` (float) - сумма операции, передается в теле запроса.

Выходные параметры:

```json
{
    "success":"успешность операции - bool",
    "err_code":"описание ошибки при неуспешной операции",
    "amount":"сумма операции (при успешной операции) - float"
}
```

---


#### POST /wallets/{id}/withdraw - метод снятия средств с кошелька.
По результату выполнения баланс кошелька должен быть уменьшен на сумму из запроса.

При успешном снятии средств с кошелька публикуется событие типа `Wallet_Withdrawn` с суммой снятия.

Входные параметры: 
- `id` (string) - идентификатор кошелька для проведение операции, передается в path params.
- `amount` (float) - сумма операции, передается в теле запроса.

Выходные параметры:

```json
{
    "success":"успешность операции - bool",
    "err_code":"описание ошибки при неуспешной операции",
    "amount":"сумма операции (при успешной операции) - floaf"
}
```

---

#### POST /wallets/{id}/transfer - перевод между двумя кошельками.
По результату выполнения баланс обоих кошельков должен быть корректно изменен.

При успешном переводе публикуется событие типа `Wallet_Transfered` с суммой перевода.

Входные параметры: 
- `id` (string) - идентификатор кошелька для проведение операции, передается в path params.
- `amount` (float) - сумма перевода, передается в теле запроса.
- `transfer_to` (string) - идентификатор кошелька для перевода средств, передается в теле запроса.

Выходные параметры:

```json
{
    "success":"успешность операции - bool",
    "err_code":"описание ошибки при неуспешной операции",
    "amount":"сумма операции (при успешной операции) - floaf"
}
```

---

# stats.

Сервис `stats` собирает статистику потребляя события от сервиса `wallet`.

Потребляемые события:
- `Wallet_Created` - событие при создании кошелька.
- `Wallet_Deleted` - событие при деактивации кошелька.
- `Wallet_Deposited` - событие при пополнении кошелька, содержит сумму пополнения.
- `Wallet_Withdrawn` - событие при снятии средств с кошелька, содержит сумму снятия.
- `Wallet_Transfered` - событие при переводе средств между кошельками, содержит сумму перевода.

Ведет учет:
- общего количества кошельков
- количества активных кошельков
- количества удаленных кошельков
- общей суммы операций: `deposit`, `withdraw`, `transfer`

---

#### GET /stats/wallets - статистика по кошелькам.

Данный метод позволяет получить статистику по кошелькам. Должен включать в себя как статистику по самим кошелькам, так и по операциям с ними.

Входные параметры: нет

Выходные параметры:

```json
{
    "wallet":{
        "total":31, // количество всех кошельков
        "active":21, // общее количество активных кошельков
        "inactive":10, // общее количество неактивных кошельков
        "deposited":1000.5 // общая сумма операций deposit
        "withdrawn":200.5 // общая сумма операций withdraw
        "trasfered":100.1 // общая сумма операций transfer
    }
}




### ApiKey XVDS6IPVCSTBV4GT
### Secret Fd+QsaKJ+d12La6ytLsppvOFZ1UGjQS7Xr80YvHuxUWEhqsEVoxQjypvjXfFWoHZ

```
